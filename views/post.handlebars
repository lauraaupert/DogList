<!DOCTYPE html>
<html lang="en">

<head>
    <nav>
    <div class="nav-wrapper light-blue accent-2">
      <a href="/ownerposts" class="brand-logo center">DogsList</a>
      <ul id="nav-mobile" class="left hide-on-med-and-down">
        <li><a href="/owners">New Post</a></li>
        <li><a href="/ownerposts">Go to Blog</a></li>
      </ul>
    </div>
  </nav>

	<meta charset="UTF-8">
	<title>CMS - Express</title>
	<!-- Latest compiled and minified CSS & JS -->
	<link href="https://maxcdn.bootstrapcdn.com/bootswatch/4.0.0/flatly/bootstrap.min.css" rel="stylesheet">
	{{!-- <link rel="stylesheet" href="css/styles.css" media="screen" title="no title"> --}}

    <link
      rel="stylesheet"
      href="css/styles.css"
      media="screen"
      title="no title"
    />
    <style>
      #map {
        width: 400px;
        height: 400px;
      }
    </style>
</head>


<body>
    <div class="container blog">

    <div class="row" >
      <div class="col-md-12 post-container">
        <div>
          <p>{{post.owners_address}}</p>
          <img src="{{post.dog_image}}"/>
        </div>
      </div>
    </div>
  </div>
  <div id="map">

  </div>
   
 

</body>
    
		{{!-- <script src="js/dogMaps.js" type="text/javascript"></script> --}}
		{{!-- <script src="js/post.js" type="text/javascript"></script> --}}


  <script>
    let map;
      //const address = document.getElementById("address").value;
     function initMap(){
      const geocoder = new google.maps.Geocoder();
//      const owners_address = "318 West 39th Street, New York, NY";
      fetch(
        `https://maps.googleapis.com/maps/api/geocode/json?address={{post.owners_address}}&key=AIzaSyD35-m8-_Hv32QX27PliwEn8Y13cOphfSM`
      )
        .then((resp) => resp.json())
        .then((response) => {
            console.log(response)
          map = new google.maps.Map(document.getElementById("map"), {
            center: response.results[0].geometry.location,
            zoom: 12,
          });
          console.log(response.results[0].geometry.location)
          var marker = new google.maps.Marker({
            map: map,
            position: response.results[0].geometry.location,
            // icon: "public/css/..",
            // animation: google.maps.Animation.BOUNCE,
            draggable: true,
            // 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
          });
          var marker = new google.maps.Marker;
          var infoWindow = new google.maps.InfoWindow({
            content: "<h1>Dogslist</h1>",
          });
          marker.addListener("click", function () {
            infoWindow.open(map, marker);
          });
          const circle = new google.maps.Circle({
            strokeColor: "#FF0000",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: "grey",
            fillOpacity: 0.35,
            map,
            center: response.results[0].geometry.location,
            radius: 600,
          });
        });
     }
    
  </script>
    <script
    async
    defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD35-m8-_Hv32QX27PliwEn8Y13cOphfSM&callback=initMap"
    type="text/javascript"
  ></script>
 




</html>
